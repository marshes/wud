(function(){"use strict";var t={9756:function(t,e,n){var r={};n.r(r);var o=n(5471),i=n(5668),a=n(4414),s=n(5322),c=n(2756),u=function(){var t=this,e=t._self._c;return e(i.A,{staticClass:"main-background"},[e("snack-bar",{attrs:{message:t.snackbarMessage,show:t.snackbarShow,level:t.snackbarLevel}}),t.authenticated?e("navigation-drawer"):t._e(),t.authenticated?e("app-bar",{attrs:{user:t.user}}):t._e(),e(s.A,[e(c.A,[e(a.A,[e("router-view")],1)],1)],1),t.authenticated?e("app-footer"):t._e()],1)},l=[],f=(n(1454),n(2696)),d=n(9483),h=n(5961),m=n(6930),p=n(8983),g=n(609),v=n(7296),y=n(8924),b=n(9136),w=n(1314),k=n(7725),A=n(198),_=n(2367),C=function(){var t=this,e=t._self._c;return e(w.A,{attrs:{app:"",dark:"","mini-variant":t.mini,permanent:"","disable-route-watcher":!0,clipped:!0},on:{"update:miniVariant":function(e){t.mini=e},"update:mini-variant":function(e){t.mini=e}},scopedSlots:t._u([t.mini?null:{key:"append",fn:function(){return[e(p.A,[e(v.A,{staticClass:"ml-2 mb-2"},[e(k.A,{attrs:{dark:"","hide-details":"",inset:"",label:"Dark mode"},on:{change:t.toggleDarkMode},scopedSlots:t._u([{key:"label",fn:function(){return[e(m.A,[t._v("mdi-weather-night")])]},proxy:!0}],null,!1,2870128952),model:{value:t.darkMode,callback:function(e){t.darkMode=e},expression:"darkMode"}})],1)],1),e("div")]},proxy:!0}],null,!0)},[e(A.A,{staticClass:"ma-0 pa-0",attrs:{flat:""}},[e(f.A,{staticStyle:{"margin-left":"-16px"},on:{click:function(e){e.stopPropagation(),t.mini=!t.mini}}},[t.mini?e(m.A,[t._v("mdi-menu")]):e(m.A,[t._v("mdi-close")])],1),e(_.sw,{staticClass:"text-body-1"},[t._v("WUD")])],1),e(p.A,{staticClass:"pt-0 pb-0",attrs:{nav:""}},[e(h.mM,{attrs:{group:"","hide-on-leave":"",mode:"in-out"}},[e(v.A,{key:"home",staticClass:"mb-0",attrs:{to:"/"}},[e(b.A,[e(m.A,[t._v("mdi-home")])],1),e(y.pr,[e(y.UZ,[t._v("Home")])],1)],1),e(v.A,{key:"containers",staticClass:"mb-0",attrs:{to:"/containers"}},[e(b.A,[e(m.A,[t._v(t._s(t.containerIcon))])],1),e(y.pr,[e(y.UZ,[t._v("Containers")])],1)],1),e(v.A,{key:"divider",staticClass:"mb-0",attrs:{dense:""}},[e(d.A)],1),t.mini?t._l(t.configurationItemsSorted,(function(n){return e(v.A,{key:n.to,staticClass:"mb-0",attrs:{to:n.to}},[e(b.A,[e(m.A,[t._v(t._s(n.icon))])],1),e(y.pr,[e(y.UZ,{staticClass:"text-capitalize"},[t._v(t._s(n.name)+" ")])],1)],1)})):e(g.A,{key:"configuration",attrs:{"no-action":"","prepend-icon":"mdi-cogs",color:"white"},scopedSlots:t._u([{key:"activator",fn:function(){return[e(y.pr,[e(y.UZ,[t._v("Configuration")])],1)]},proxy:!0}],null,!1,1088995448)},[e("div"),t._l(t.configurationItemsSorted,(function(n){return e(v.A,{key:n.to,staticClass:"mb-0 pl-8",attrs:{dense:"",to:n.to}},[e(b.A,[e(m.A,[t._v(t._s(n.icon))])],1),e(y.pr,[e(y.UZ,{staticClass:"text-capitalize"},[t._v(t._s(n.name)+" ")])],1)],1)}))],2)],2)],1)],1)},S=[],$=n(2879),j=n(9721),x=n(3032),M=n(869),T=n(5812),E=n(7826),O={data:()=>({mini:!0,darkMode:"true"===localStorage.darkMode,containerIcon:(0,$.dF)(),configurationItems:[{to:"/configuration/authentications",name:"auth",icon:(0,E.c)()},{to:"/configuration/registries",name:"registries",icon:(0,j.$9)()},{to:"/configuration/triggers",name:"triggers",icon:(0,x.KC)()},{to:"/configuration/watchers",name:"watchers",icon:(0,T.S)()},{to:"/configuration/server",name:"server",icon:(0,M.v)()}]}),computed:{configurationItemsSorted(){return[...this.configurationItems].sort(((t,e)=>t.name.localeCompare(e.name)))}},methods:{toggleDarkMode:function(){localStorage.darkMode=this.darkMode,this.setDarkMode(this.darkMode)},setDarkMode(t){this.$vuetify.theme.dark=t}},beforeMount(){this.setDarkMode(this.darkMode)}},N=O,P=n(1656),D=(0,P.A)(N,C,S,!1,null,null,null),L=D.exports,F=n(301),U=n(3740),I=n(6237),q=n(1034),z=function(){var t=this,e=t._self._c;return e(F.A,{attrs:{app:"",flat:"",dark:"",tile:"","clipped-left":"",dense:""}},[t.viewName&&"home".toLowerCase()!==t.viewName.toLowerCase()?e(_.sw,{staticClass:"text-body-1 text-capitalize ma-0 pl-4"},[t._v(t._s(t.viewName))]):t._e(),e(q.A),t.user&&"anonymous"!==t.user.username?e(I.A,{attrs:{left:"",bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:r}){return[e(U.A,t._g(t._b({staticClass:"text-lowercase",attrs:{text:"",small:""}},"v-btn",r,!1),n),[t._v(" "+t._s(t.user.username)+"   "),e(m.A,{attrs:{dense:""}},[t._v("mdi-account")])],1)]}}],null,!1,1829375785)},[e(p.A,{attrs:{dense:""}},[e(v.A,{on:{click:t.logout}},[e(y.pr,{staticClass:"text-body-2"},[t._v("Log out")])],1)],1)],1):t._e()],1)},B=[],Z=(n(4114),n(5156)),K={props:{user:{type:Object,required:!0}},data(){return{}},computed:{viewName(){return this.$route.name}},methods:{async logout(){try{const t=await(0,Z.ri)();t.logoutUrl?window.location=t.logoutUrl:await this.$router.push({name:"login"})}catch(t){this.$root.$emit("notify",`Error when trying to logout (${t.message})`,"error")}}}},H=K,J=(0,P.A)(H,z,B,!1,null,null,null),R=J.exports,W=n(7150),G=function(){var t=this,e=t._self._c;return e(W.A,{attrs:{value:t.show,timeout:t.timeout,color:"primary",outlined:""},on:{input:t.closeSnackbar},scopedSlots:t._u([{key:"action",fn:function({attrs:n}){return[e(U.A,t._b({attrs:{text:""},on:{click:t.closeSnackbar}},"v-btn",n,!1),[t._v("Close")])]}}])},[t._v(" "+t._s(t.message)+" ")])},Q=[],V={props:{show:{type:Boolean,default:!1},timeout:{type:Number,default:4e3},message:{type:String,required:!0},level:{type:String,default:"info"}},methods:{closeSnackbar(){this.$root.$emit("notify:close")}}},X=V,Y=(0,P.A)(X,G,Q,!1,null,null,null),tt=Y.exports,et=n(8143),nt=function(){var t=this,e=t._self._c;return e(et.A,{attrs:{app:"",padless:"",dark:"",height:"30px"}},[e(a.A,{staticClass:"text-center text-caption pa-0",attrs:{cols:"12"}},[t._v(" "+t._s((new Date).getFullYear())+" — WUD (version "+t._s(t.version)+") ")])],1)},rt=[];async function ot(){const t=await fetch("/api/app");return t.json()}var it={data(){return{version:"unknown"}},async beforeMount(){try{const t=await ot();this.version=t.version||"unknown"}catch(t){this.$root.$emit("notify",`Error when trying to get app version (${t.message})`,"error")}}},at=it,st=(0,P.A)(at,nt,rt,!1,null,null,null),ct=st.exports,ut={components:{NavigationDrawer:L,AppBar:R,SnackBar:tt,AppFooter:ct},data(){return{snackbarMessage:"",snackbarShow:!1,snackbarLevel:"info",user:void 0}},computed:{items(){return this.$route.fullPath.replace("/","").split("/").map((t=>({text:t||"Home",disabled:!1,href:""})))},authenticated(){return void 0!==this.user}},methods:{onAuthenticated(t){this.user=t},notify(t,e="info"){this.snackbarMessage=t,this.snackbarShow=!0,this.snackbarLevel=e},notifyClose(){this.snackbarMessage="",this.snackbarShow=!1}},async beforeMount(){this.$root.$on("authenticated",this.onAuthenticated),this.$root.$on("notify",this.notify),this.$root.$on("notify:close",this.notifyClose)},async beforeUpdate(){if(this.authenticated&&!this.$serverConfig){const t=await(0,M.S)();o.Ay.prototype.$serverConfig=t.configuration}}},lt=ut,ft=(0,P.A)(lt,u,l,!1,null,"402e76b3",null),dt=ft.exports,ht=n(3971);o.Ay.use(ht.A);var mt=new ht.A({theme:{themes:{light:{primary:"#00355E",secondary:"#0096C7",accent:"#06D6A0",error:"#E53935"},dark:{}}}}),pt=n(8261),gt=n.n(pt);o.Ay.use(gt());var vt=n(173);o.Ay.use(vt.Ay);const yt=[{path:"/",name:"home",component:()=>n.e(297).then(n.bind(n,1678))},{path:"/login",name:"login",component:()=>Promise.all([n.e(917),n.e(494),n.e(399)]).then(n.bind(n,5994))},{path:"/containers",name:"containers",component:()=>Promise.all([n.e(917),n.e(494),n.e(981),n.e(598)]).then(n.bind(n,7712))},{path:"/configuration/authentications",name:"authentications",component:()=>Promise.all([n.e(768),n.e(422)]).then(n.bind(n,1709))},{path:"/configuration/registries",name:"registries",component:()=>Promise.all([n.e(768),n.e(964)]).then(n.bind(n,6199))},{path:"/configuration/server",name:"server",component:()=>Promise.all([n.e(768),n.e(389)]).then(n.bind(n,9258))},{path:"/configuration/triggers",name:"triggers",component:()=>Promise.all([n.e(917),n.e(981),n.e(27)]).then(n.bind(n,3273))},{path:"/configuration/watchers",name:"watchers",component:()=>Promise.all([n.e(768),n.e(701)]).then(n.bind(n,5482))}],bt=new vt.Ay({mode:"history",base:"/",routes:yt});async function wt(t,e,n){if("login"===t.name)n();else{const e=await(0,Z.wz)();void 0!==e?(bt.app.$root.$emit("authenticated",e),t.query.next?n(t.query.next):n()):n({name:"login",query:{next:t.path}})}}bt.beforeEach((async(t,e,n)=>{await wt(t,e,n)}));var kt=bt;n(8992),n(4520);function At(t,e){return t?t.substring(0,e):""}function _t(t){const e=new Date(t),n={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};return new Intl.DateTimeFormat([],n).format(e)}function Ct(t){const e=new Date(t),n={year:"2-digit",month:"2-digit",day:"2-digit"};return new Intl.DateTimeFormat([],n).format(e)}function St(){o.Ay.filter("short",At),o.Ay.filter("dateTime",_t),o.Ay.filter("date",Ct)}var $t=n(3723);(0,$t.k)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}}),o.Ay.config.productionTip=!1,St(),new o.Ay({vuetify:mt,clipboard:r["default"],router:kt,render:t=>t(dt)}).$mount("#app")},5156:function(t,e,n){n.d(e,{E:function(){return o},Kg:function(){return s},eg:function(){return a},ri:function(){return c},wz:function(){return i}});n(4979);let r;async function o(){const t=await fetch("/auth/strategies");return t.json()}async function i(){if(r)return r;try{const t=await fetch("/auth/user",{redirect:"manual"});return r=await t.json(),r}catch(t){r=void 0}}async function a(t,e){const n=btoa(`${t}:${e}`),o=await fetch("/auth/login",{method:"POST",headers:{Authorization:`Basic ${n}`},body:JSON.stringify({username:t,password:e})});return r=await o.json(),r}async function s(t){const e=await fetch(`/auth/oidc/${t}/redirect`);return r=await e.json(),r}async function c(){const t=await fetch("/auth/logout",{method:"POST",redirect:"manual"});return r=void 0,t.json()}},7826:function(t,e,n){function r(){return"mdi-lock"}async function o(){const t=await fetch("/api/authentications");return t.json()}n.d(e,{R:function(){return o},c:function(){return r}})},2879:function(t,e,n){function r(){return"mdi-docker"}async function o(){const t=await fetch("/api/containers");return t.json()}async function i(){const t=await fetch("/api/containers/watch",{method:"POST"});return t.json()}async function a(t){return fetch(`/api/containers/${t}`,{method:"DELETE"})}async function s(t){const e=await fetch(`/api/containers/${t}/triggers`);return e.json()}async function c({containerId:t,triggerType:e,triggerName:n}){const r=await fetch(`/api/containers/${t}/triggers/${e}/${n}`,{method:"POST",headers:{"Content-Type":"application/json"}});return r.json()}n.d(e,{TQ:function(){return s},XG:function(){return i},dF:function(){return r},kg:function(){return c},sy:function(){return o},zR:function(){return a}})},9721:function(t,e,n){function r(){return"mdi-database-search"}function o(t){let e="mdi-help";switch(t.split(".")[0]){case"acr":e="si-microsoftazure";break;case"custom":e="mdi-home";break;case"ecr":e="si-amazonaws";break;case"forgejo":e="si-forgejo";break;case"gcr":e="si-googlecloud";break;case"ghcr":e="si-github";break;case"gitea":e="si-gitea";break;case"gitlab":e="si-gitlab";break;case"hub":e="si-docker";break;case"quay":e="si-redhat";break}return e}async function i(){const t=await fetch("/api/registries");return t.json()}n.d(e,{$9:function(){return r},Cc:function(){return o},TJ:function(){return i}})},869:function(t,e,n){function r(){return"mdi-connection"}async function o(){const t=await fetch("/api/server");return t.json()}n.d(e,{S:function(){return o},v:function(){return r}})},3032:function(t,e,n){function r(){return"mdi-bell-ring"}async function o(){const t=await fetch("/api/triggers");return t.json()}async function i({triggerType:t,triggerName:e,container:n}){const r=await fetch(`/api/triggers/${t}/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),o=await r.json();if(200!==r.status)throw new Error(o.error?o.error:"Unknown error");return o}n.d(e,{KC:function(){return r},fE:function(){return o},kg:function(){return i}})},5812:function(t,e,n){function r(){return"mdi-update"}async function o(){const t=await fetch("/api/watchers");return t.json()}n.d(e,{L:function(){return o},S:function(){return r}})}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,r,o,i){if(!r){var a=1/0;for(l=0;l<t.length;l++){r=t[l][0],o=t[l][1],i=t[l][2];for(var s=!0,c=0;c<r.length;c++)(!1&i||a>=i)&&Object.keys(n.O).every((function(t){return n.O[t](r[c])}))?r.splice(c--,1):(s=!1,i<a&&(a=i));if(s){t.splice(l--,1);var u=o();void 0!==u&&(e=u)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[r,o,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,r){return n.f[r](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+t+"."+{27:"97d66258",297:"daecd12b",389:"6f8791b4",399:"0b09f5a5",422:"ad922bdb",494:"290528c6",598:"02686cc1",701:"23502c8e",768:"c6a8e99c",917:"2643f687",964:"bb34fe59",981:"ea2760b7"}[t]+".js"}}(),function(){n.miniCssF=function(t){return"css/"+t+"."+{27:"b8e58824",297:"254673d2",389:"863df860",399:"987f2274",422:"863df860",598:"730a2550",701:"863df860",917:"9040e58c",964:"863df860"}[t]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="wud-ui:";n.l=function(r,o,i,a){if(t[r])t[r].push(o);else{var s,c;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var f=u[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==e+i){s=f;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",e+i),s.src=r),t[r]=[o];var d=function(e,n){s.onerror=s.onload=null,clearTimeout(h);var o=t[r];if(delete t[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(t){return t(n)})),e)return e(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){if("undefined"!==typeof document){var t=function(t,e,r,o,i){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",n.nc&&(a.nonce=n.nc);var s=function(n){if(a.onerror=a.onload=null,"load"===n.type)o();else{var r=n&&n.type,s=n&&n.target&&n.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+r+": "+s+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=r,c.request=s,a.parentNode&&a.parentNode.removeChild(a),i(c)}};return a.onerror=a.onload=s,a.href=e,r?r.parentNode.insertBefore(a,r.nextSibling):document.head.appendChild(a),a},e=function(t,e){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=n[r],i=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===t||i===e))return o}var a=document.getElementsByTagName("style");for(r=0;r<a.length;r++){o=a[r],i=o.getAttribute("data-href");if(i===t||i===e)return o}},r=function(r){return new Promise((function(o,i){var a=n.miniCssF(r),s=n.p+a;if(e(a,s))return o();t(r,s,null,o,i)}))},o={524:0};n.f.miniCss=function(t,e){var n={27:1,297:1,389:1,399:1,422:1,598:1,701:1,917:1,964:1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=r(t).then((function(){o[t]=0}),(function(e){throw delete o[t],e})))}}}(),function(){var t={524:0};n.f.j=function(e,r){var o=n.o(t,e)?t[e]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((function(n,r){o=t[e]=[n,r]}));r.push(o[2]=i);var a=n.p+n.u(e),s=new Error,c=function(r){if(n.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}};n.l(a,c,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,i,a=r[0],s=r[1],c=r[2],u=0;if(a.some((function(e){return 0!==t[e]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)var l=c(n)}for(e&&e(r);u<a.length;u++)i=a[u],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(l)},r=self["webpackChunkwud_ui"]=self["webpackChunkwud_ui"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(9756)}));r=n.O(r)})();
//# sourceMappingURL=app.80387b67.js.map